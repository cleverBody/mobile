# SPlayer Mobile 开发指南

## 📱 项目概述
基于SPlayer桌面版开发的移动端音乐播放器，采用Ionic + Vue 3技术栈。

## 🚀 快速开始

### 环境要求
- Node.js >= 18
- pnpm >= 8

### 安装依赖
```bash
cd mobile
pnpm install
```

### 启动开发服务器
```bash
pnpm dev
```

### 构建生产版本
```bash
pnpm build
```

## 📁 项目结构

```
mobile/
├── src/
│   ├── components/          # 组件
│   │   └── Player/         # 播放器相关组件
│   ├── views/              # 页面组件
│   │   ├── Home/           # 首页
│   │   ├── Discover/       # 发现页
│   │   ├── Library/        # 音乐库
│   │   ├── Settings/       # 设置页
│   │   └── Player/         # 播放器页面
│   ├── layouts/            # 布局组件
│   ├── stores/             # Pinia状态管理
│   ├── api/                # API接口
│   ├── utils/              # 工具函数
│   ├── router/             # 路由配置
│   └── assets/             # 静态资源
├── public/                 # 公共资源
└── dist/                   # 构建输出
```

## 🔧 技术栈

- **框架**: Vue 3 + TypeScript
- **UI组件**: Ionic Vue
- **状态管理**: Pinia
- **路由**: Vue Router
- **音频播放**: Howler.js
- **构建工具**: Vite
- **样式**: CSS3 + CSS Variables

## 📱 主要功能

### 底部导航栏
- 🏠 首页: 个性化推荐
- 🔍 发现: 音乐探索
- 📚 我的: 音乐库管理
- ⚙️ 设置: 应用配置

### 播放器
- 迷你播放器: 固定在底部
- 全屏播放器: 点击迷你播放器展开
- 支持播放控制、进度调节、播放模式切换

### 核心Store

#### MusicStore
管理音乐相关状态：
- 当前歌曲
- 播放列表
- 喜欢的音乐

#### PlayerStore  
管理播放器状态：
- 播放状态
- 播放进度
- 音量控制
- 播放模式

#### UserStore
管理用户状态：
- 登录状态
- 用户信息
- 认证cookie

#### SettingsStore
管理应用设置：
- 主题模式
- 音频质量
- 语言设置

## 🎯 开发进度

### ✅ 已完成
- [x] 项目基础架构搭建
- [x] Ionic + Vue 3 环境配置
- [x] 底部导航栏组件
- [x] 首页布局和组件
- [x] 迷你播放器组件
- [x] 基础状态管理Store
- [x] 路由配置
- [x] API层适配

### 🚧 进行中
- [ ] 其他页面组件开发
- [ ] 全屏播放器实现
- [ ] 搜索功能
- [ ] 歌单详情页

### 📋 待开发
- [ ] 用户登录/注册
- [ ] 音乐播放逻辑完善
- [ ] 缓存策略
- [ ] 性能优化
- [ ] PWA支持
- [ ] 原生App打包

## 💡 开发说明

### 复用桌面版代码
通过Vite别名配置 `@/shared/*` 可以直接引用桌面版的：
- API接口 (`../src/api/*`)
- 工具函数 (`../src/utils/*`)
- 类型定义 (`../src/types/*`)

### 样式系统
- 使用CSS变量实现主题切换
- 响应式设计适配不同屏幕尺寸
- 统一的设计Token和组件样式

### 状态持久化
使用 `pinia-plugin-persistedstate` 实现关键状态的本地存储。

## 🔗 与桌面版的关系

移动端项目独立运行，但复用桌面版的：
- 网易云API接口
- 业务逻辑代码
- 数据类型定义

这样既保证了功能一致性，又避免了重复开发。

## 📝 注意事项

1. **API代理**: 开发时通过Vite代理转发到桌面版的API服务
2. **图片资源**: 需要准备移动端适配的图片资源
3. **触摸优化**: 所有交互都针对触摸操作进行优化
4. **性能考虑**: 移动端需要特别注意内存和电量消耗

## 🎵 下一步

1. 完善发现页和音乐库页面
2. 实现完整的播放器功能
3. 添加搜索和歌单管理
4. 优化性能和用户体验
5. 准备应用商店发布