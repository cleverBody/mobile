# ğŸµ SPlayer Mobile

SPlayer çš„ç§»åŠ¨ç«¯ç‰ˆæœ¬ï¼Œä¸€ä¸ªç°ä»£åŒ–çš„éŸ³ä¹æ’­æ”¾åº”ç”¨ï¼ŒåŸºäº Vue 3 + Ionic + Capacitor å¼€å‘ã€‚

![License](https://img.shields.io/github/license/imsyy/SPlayer)
![Version](https://img.shields.io/badge/version-1.0.0-blue)
![Platform](https://img.shields.io/badge/platform-Android%20%7C%20iOS-green)

## âœ¨ ç‰¹æ€§

- ğŸ¨ **ç°ä»£åŒ– UI** - åŸºäº Ionic Vue çš„åŸç”Ÿç§»åŠ¨ç«¯ä½“éªŒ
- ğŸµ **å®Œæ•´éŸ³ä¹åŠŸèƒ½** - æ’­æ”¾ã€æš‚åœã€ä¸Šä¸€é¦–ã€ä¸‹ä¸€é¦–ã€è¿›åº¦æ§åˆ¶
- ğŸ“± **è·¨å¹³å°æ”¯æŒ** - æ”¯æŒ Android å’Œ iOS
- ğŸ” **æœç´¢åŠŸèƒ½** - æ­Œæ›²ã€æ­Œæ‰‹ã€ä¸“è¾‘æœç´¢
- ğŸ“‹ **æ­Œå•ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ­Œå•
- â¤ï¸ **æ”¶è—åŠŸèƒ½** - æ”¶è—å–œæ¬¢çš„æ­Œæ›²å’Œæ­Œå•
- ğŸ¯ **æ¯æ—¥æ¨è** - ä¸ªæ€§åŒ–éŸ³ä¹æ¨è
- ğŸ¨ **ä¸»é¢˜åˆ‡æ¢** - æ”¯æŒæ˜æš—ä¸»é¢˜
- ğŸ“Š **æ’è¡Œæ¦œ** - çƒ­é—¨éŸ³ä¹æ’è¡Œæ¦œ
- ğŸ‘¤ **ç”¨æˆ·ç³»ç»Ÿ** - ç™»å½•ã€ä¸ªäººèµ„æ–™ç®¡ç†
- ğŸ§ **è¿·ä½ æ’­æ”¾å™¨** - å…¨å±€éŸ³ä¹æ§åˆ¶
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§å±å¹•å°ºå¯¸

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **Vue 3** - æ¸è¿›å¼ JavaScript æ¡†æ¶
- **Ionic Vue** - ç§»åŠ¨ç«¯ UI ç»„ä»¶åº“
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·

### ç§»åŠ¨ç«¯å¼€å‘
- **Capacitor** - è·¨å¹³å°ç§»åŠ¨åº”ç”¨å¼€å‘æ¡†æ¶
- **Android Studio** - Android å¼€å‘ç¯å¢ƒ
- **Xcode** - iOS å¼€å‘ç¯å¢ƒï¼ˆmacOSï¼‰

### çŠ¶æ€ç®¡ç†
- **Pinia** - Vue 3 çŠ¶æ€ç®¡ç†åº“
- **pinia-plugin-persistedstate** - çŠ¶æ€æŒä¹…åŒ–

### éŸ³é¢‘å¤„ç†
- **Howler.js** - Web éŸ³é¢‘åº“
- **åŸç”ŸéŸ³é¢‘ API** - ç§»åŠ¨ç«¯éŸ³é¢‘æ’­æ”¾

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18
- npm æˆ– yarn
- Android Studioï¼ˆAndroid å¼€å‘ï¼‰
- Xcodeï¼ˆiOS å¼€å‘ï¼Œä»… macOSï¼‰

### å®‰è£…ä¾èµ–
```bash
cd mobile
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### å¯åŠ¨åç«¯ä»£ç†æœåŠ¡å™¨
```bash
cd netease-proxy-server
npm start
```

## ğŸ“± APK æ‰“åŒ…

### ä¸€é”®æ‰“åŒ…å‘½ä»¤
```bash
cd mobile
npm run build && npx cap sync android && cd android && ./gradlew assembleDebug
```

### APK æ–‡ä»¶ä½ç½®
æ„å»ºå®Œæˆåï¼ŒAPK æ–‡ä»¶ä½äºï¼š
```
mobile/android/app/build/outputs/apk/debug/app-debug.apk
```

## ğŸ iOS æ‰“åŒ…

### æ„å»ºæ­¥éª¤
```bash
cd mobile
npm run build && npx cap sync ios && npx cap open ios
```

ç„¶ååœ¨ Xcode ä¸­é…ç½®ç­¾åå¹¶æ„å»ºåº”ç”¨ã€‚

## ğŸ”Œ API é›†æˆ

### ç½‘æ˜“äº‘éŸ³ä¹ API
- **æ­Œæ›²æœç´¢** - `/api/search`
- **æ­Œæ›²è¯¦æƒ…** - `/api/song/detail`
- **æ­Œæ›²æ’­æ”¾é“¾æ¥** - `/api/song/url/v1`
- **æ­Œå•è¯¦æƒ…** - `/api/playlist/detail`
- **æ­Œæ‰‹ä¿¡æ¯** - `/api/artist/detail`
- **ä¸“è¾‘ä¿¡æ¯** - `/api/album/detail`
- **æ’è¡Œæ¦œ** - `/api/toplist_detail`
- **æ¯æ—¥æ¨è** - `/api/recommend/songs`
- **ç”¨æˆ·ç™»å½•** - `/api/login/cellphone`

### åç«¯æœåŠ¡
- **ä»£ç†æœåŠ¡å™¨** - `netease-proxy-server`
- **API åŸºç¡€åœ°å€** - `https://netease-proxy-server.onrender.com/api`
- **æœ¬åœ°å¼€å‘** - `http://localhost:3000/api`

### å¤šæºéŸ³ä¹æ”¯æŒ
- **ç½‘æ˜“äº‘éŸ³ä¹** - ä¸»è¦éŸ³æº
- **é…·æˆ‘éŸ³ä¹** - å¤‡ç”¨éŸ³æºï¼ˆè§£é”åŠŸèƒ½ï¼‰
- **è‡ªåŠ¨åˆ‡æ¢** - æ— ç‰ˆæƒæ­Œæ›²è‡ªåŠ¨åˆ‡æ¢éŸ³æº

## ğŸ“ é¡¹ç›®ç»“æ„

```
mobile/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                 # API æ¥å£
â”‚   â”‚   â”œâ”€â”€ discover.ts      # å‘ç°é¡µé¢ API
â”‚   â”‚   â”œâ”€â”€ index.ts         # API é…ç½®
â”‚   â”‚   â”œâ”€â”€ music.ts         # éŸ³ä¹ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ multiSourceMusic.ts # å¤šæºéŸ³ä¹ API
â”‚   â”‚   â””â”€â”€ radio.ts         # ç”µå° API
â”‚   â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ styles/          # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ theme/           # ä¸»é¢˜é…ç½®
â”‚   â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Player/          # æ’­æ”¾å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/             # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ album.ts         # ä¸“è¾‘çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ artist.ts        # æ­Œæ‰‹çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ music.ts         # éŸ³ä¹æ’­æ”¾çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ playlist.ts      # æ­Œå•çŠ¶æ€
â”‚   â”‚   â””â”€â”€ user.ts          # ç”¨æˆ·çŠ¶æ€
â”‚   â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home/            # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ Discover/        # å‘ç°é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Player/          # æ’­æ”¾é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Search/          # æœç´¢é¡µé¢
â”‚   â”‚   â””â”€â”€ Profile/         # ä¸ªäººé¡µé¢
â”‚   â””â”€â”€ router/              # è·¯ç”±é…ç½®
â”œâ”€â”€ android/                 # Android é¡¹ç›®
â”œâ”€â”€ ios/                     # iOS é¡¹ç›®
â”œâ”€â”€ public/                  # å…¬å…±èµ„æº
â””â”€â”€ dist/                    # æ„å»ºè¾“å‡º
```

## ğŸ”§ é…ç½®è¯´æ˜

### Capacitor é…ç½® (capacitor.config.ts)
```typescript
const config: CapacitorConfig = {
  appId: 'com.splayer.mobile',
  appName: 'SPlayer Mobile',
  webDir: 'dist',
  server: {
    allowNavigation: [
      'https://netease-proxy-server.onrender.com',
      'https://*.music.126.net',
      'https://*.netease.com'
    ]
  },
  android: {
    allowMixedContent: true,
    useCleartextTraffic: true
  }
};
```

### ç¯å¢ƒå˜é‡
å¼€å‘ç¯å¢ƒä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨ç›¸åº”çš„ API åœ°å€ï¼š
- **æµè§ˆå™¨ç¯å¢ƒ**: ä½¿ç”¨ä»£ç† `/api`
- **APK ç¯å¢ƒ**: ä½¿ç”¨è¿œç¨‹æœåŠ¡å™¨ `https://netease-proxy-server.onrender.com/api`

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### éŸ³ä¹æ’­æ”¾
- âœ… æ’­æ”¾/æš‚åœæ§åˆ¶
- âœ… ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–
- âœ… è¿›åº¦æ¡æ§åˆ¶
- âœ… éŸ³é‡æ§åˆ¶
- âœ… æ’­æ”¾æ¨¡å¼åˆ‡æ¢ï¼ˆé¡ºåºã€éšæœºã€å•æ›²å¾ªç¯ï¼‰
- âœ… åå°æ’­æ”¾æ”¯æŒ

### éŸ³ä¹å‘ç°
- âœ… æ¯æ—¥æ¨èæ­Œæ›²
- âœ… çƒ­é—¨æ’è¡Œæ¦œ
- âœ… æ–°æ­Œé€Ÿé€’
- âœ… æ­Œæ‰‹æ¨è
- âœ… æ­Œå•å¹¿åœº

### æœç´¢åŠŸèƒ½
- âœ… æ­Œæ›²æœç´¢
- âœ… æ­Œæ‰‹æœç´¢
- âœ… ä¸“è¾‘æœç´¢
- âœ… æ­Œå•æœç´¢
- âœ… æœç´¢å†å²

### ç”¨æˆ·åŠŸèƒ½
- âœ… æ‰‹æœºå·ç™»å½•
- âœ… ä¸ªäººèµ„æ–™
- âœ… æ”¶è—ç®¡ç†
- âœ… æ’­æ”¾å†å²

## ğŸ¯ å¼€å‘è¿›åº¦

### âœ… å·²å®Œæˆ
- [x] é¡¹ç›®åŸºç¡€æ¶æ„æ­å»º
- [x] Ionic + Vue 3 + Capacitor ç¯å¢ƒé…ç½®
- [x] åº•éƒ¨å¯¼èˆªæ ç»„ä»¶
- [x] é¦–é¡µå¸ƒå±€å’Œç»„ä»¶
- [x] è¿·ä½ æ’­æ”¾å™¨ç»„ä»¶
- [x] å…¨å±æ’­æ”¾å™¨å®ç°
- [x] åŸºç¡€çŠ¶æ€ç®¡ç†Store
- [x] è·¯ç”±é…ç½®
- [x] APIå±‚é€‚é…
- [x] æœç´¢åŠŸèƒ½
- [x] æ­Œå•è¯¦æƒ…é¡µ
- [x] æ­Œæ‰‹è¯¦æƒ…é¡µ
- [x] ä¸“è¾‘è¯¦æƒ…é¡µ
- [x] ç”¨æˆ·ç™»å½•åŠŸèƒ½
- [x] éŸ³ä¹æ’­æ”¾é€»è¾‘
- [x] APK æ‰“åŒ…é…ç½®

### ğŸš§ è¿›è¡Œä¸­
- [ ] ç¦»çº¿ç¼“å­˜åŠŸèƒ½
- [ ] æ­Œè¯æ˜¾ç¤ºåŠŸèƒ½
- [ ] éŸ³é¢‘å¯è§†åŒ–
- [ ] æ€§èƒ½ä¼˜åŒ–

### ğŸ“‹ å¾…å¼€å‘
- [ ] iOS å¹³å°ä¼˜åŒ–
- [ ] PWAæ”¯æŒ
- [ ] åº”ç”¨å•†åº—å‘å¸ƒ

## ğŸ› å·²çŸ¥é—®é¢˜

- [ ] iOS å¹³å°éŸ³é¢‘æ’­æ”¾ä¼˜åŒ–
- [ ] ç¦»çº¿ç¼“å­˜åŠŸèƒ½
- [ ] æ­Œè¯æ˜¾ç¤ºåŠŸèƒ½
- [ ] éŸ³é¢‘å¯è§†åŒ–

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [AGPL-3.0](https://www.gnu.org/licenses/agpl-3.0.html) è®¸å¯è¯å¼€æºã€‚

## ğŸ“¢ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºå•†ä¸šç”¨é€”ã€‚ä½¿ç”¨æœ¬é¡¹ç›®æ‰€äº§ç”Ÿçš„ä¸€åˆ‡åæœç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚
