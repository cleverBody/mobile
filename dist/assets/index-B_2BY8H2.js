import{d as se,r as g,c as te,e as h,o as oe,g as $,h as i,w as a,i as s,I as le,j as l,J as ae,S,K as ne,A as k,L as ie,z as P,T as q,k as e,M as ce,y as u,l as v,U as re,t as r,V as G,W as de,X as L,Y as ue,B,Z as me,$ as ve,a0 as _e,F as A,D,a1 as ge,a2 as H,E as fe,G as pe,a3 as J,a4 as K,_ as he}from"./index-C9U6OB9Y.js";import{u as ke}from"./user-C-PeXwOA.js";const ye=se("library",()=>{const y=g(0),m=g(0),c=g(0),d=g([]),f=g([]),I=g([]),b=g([]),C=g(!1),E=async()=>{if(!C.value){C.value=!0;try{await V()}catch(_){console.error("加载音乐库数据失败:",_)}finally{C.value=!1}}},V=async()=>{await new Promise(_=>setTimeout(_,600)),y.value=156,m.value=89,c.value=23,d.value=[{id:1001,name:"我喜欢的音乐",cover:"/images/liked-songs.jpg",trackCount:156,createTime:"2023-01-15"},{id:1002,name:"开车听的歌",cover:"/images/driving-playlist.jpg",trackCount:45,createTime:"2023-05-20"},{id:1003,name:"运动音乐",cover:"/images/workout-playlist.jpg",trackCount:32,createTime:"2023-08-10"},{id:1004,name:"夜晚静听",cover:"/images/night-playlist.jpg",trackCount:28,createTime:"2023-11-05"}],f.value=[{id:2001,name:"华语经典老歌",cover:"/images/classic-chinese.jpg",trackCount:200,creator:"音乐达人"},{id:2002,name:"欧美流行精选",cover:"/images/western-pop.jpg",trackCount:180,creator:"海外音乐"},{id:2003,name:"日系治愈音乐",cover:"/images/japanese-healing.jpg",trackCount:120,creator:"治愈系"}],I.value=[{id:3001,name:"最伟大的作品",cover:"/images/album-jay1.jpg",artist:"周杰伦",releaseDate:"2022-07-15"},{id:3002,name:"Planet",cover:"/images/album-jam1.jpg",artist:"萧敬腾",releaseDate:"2022-12-30"},{id:3003,name:"还是会想你",cover:"/images/album-linda1.jpg",artist:"林达浪",releaseDate:"2023-02-14"},{id:3004,name:"如果声音不记得",cover:"/images/album-wu1.jpg",artist:"吴青峰",releaseDate:"2023-03-21"}],b.value=[{id:4001,name:"周杰伦",cover:"/images/artist-jay.jpg",followers:258e4},{id:4002,name:"陈奕迅",cover:"/images/artist-eason.jpg",followers:189e4},{id:4003,name:"邓紫棋",cover:"/images/artist-gem.jpg",followers:165e4},{id:4004,name:"林俊杰",cover:"/images/artist-jj.jpg",followers:142e4},{id:4005,name:"薛之谦",cover:"/images/artist-joker.jpg",followers:123e4},{id:4006,name:"毛不易",cover:"/images/artist-mao.jpg",followers:98e4}]};return{likedSongsCount:y,recentPlayedCount:m,cloudSongsCount:c,createdPlaylists:d,collectedPlaylists:f,collectedAlbums:I,collectedArtists:b,loading:C,loadLibraryData:E,addToLiked:_=>{y.value++},removeFromLiked:_=>{y.value>0&&y.value--},createNewPlaylist:async(_,N)=>{const T={id:Date.now(),name:_,cover:"/images/default-playlist.jpg",trackCount:0,createTime:new Date().toISOString()};return d.value.unshift(T),T}}}),Ce=["src","alt"],je={class:"library-page"},we={key:0,class:"login-prompt"},Pe={class:"login-content"},Ie={key:1,class:"library-content"},be={class:"user-card"},Te={class:"user-info"},xe=["src","alt"],Se={class:"user-details"},Le={class:"user-name"},Ae={class:"user-badges"},De={class:"quick-access"},Ee={class:"access-icon liked"},Ve={class:"access-info"},$e={class:"s-text-secondary"},Be={class:"access-icon recent"},Oe={class:"access-info"},Fe={class:"s-text-secondary"},Me={class:"access-icon cloud"},Ne={class:"access-info"},ze={class:"s-text-secondary"},Ue={class:"content-section"},Re={class:"section-header"},qe={class:"playlist-list"},Ge=["onClick"],He={class:"playlist-cover"},Je=["src","alt"],Ke={class:"playlist-info"},We={class:"playlist-name s-text-truncate"},Xe={class:"playlist-count s-text-secondary"},Ye={class:"content-section"},Ze={class:"playlist-list"},Qe=["onClick"],es={class:"playlist-cover"},ss=["src","alt"],ts={class:"playlist-info"},os={class:"playlist-name s-text-truncate"},ls={class:"playlist-creator s-text-secondary"},as={class:"content-section"},ns={class:"collection-tabs"},is={key:0,class:"collection-grid"},cs=["onClick"],rs={class:"collection-cover"},ds=["src","alt"],us={class:"collection-name s-text-truncate"},ms={class:"collection-artist s-text-secondary s-text-truncate"},vs={key:1,class:"collection-grid"},_s=["onClick"],gs={class:"collection-cover artist-cover"},fs=["src","alt"],ps={class:"collection-name s-text-truncate"},hs={class:"collection-followers s-text-secondary"},ks=te({__name:"index",setup(y){const m=pe(),c=ke(),d=ye(),f=g("albums"),I=h(()=>d.likedSongsCount),b=h(()=>d.recentPlayedCount),C=h(()=>d.cloudSongsCount),E=h(()=>d.createdPlaylists),V=h(()=>d.collectedPlaylists),O=h(()=>d.collectedAlbums),F=h(()=>d.collectedArtists),M=()=>{m.push("/login")},_=()=>{m.push("/profile")},N=()=>{m.push("/liked-songs")},T=()=>{m.push("/recent-played")},W=()=>{m.push("/my-cloud")},X=()=>{console.log("创建歌单")},z=n=>{m.push(`/playlist/${n}`)},Y=n=>{m.push(`/album/${n}`)},Z=n=>{m.push(`/artist/${n}`)},U=n=>{console.log("更多操作",n)},Q=n=>{f.value=n.detail.value},ee=n=>n?n>=1e4?Math.floor(n/1e4)+"万":n.toString():"0",x=n=>{const o=n.target;o.src="/images/album.jpg"},R=n=>{const o=n.target;o.src="/images/default-avatar.jpg"};return oe(()=>{c.isLoggedIn&&d.loadLibraryData()}),(n,o)=>(i(),$(s(le),null,{default:a(()=>[l(s(ce),null,{default:a(()=>[l(s(ae),null,{default:a(()=>[l(s(ne),null,{default:a(()=>[...o[1]||(o[1]=[k("我的音乐",-1)])]),_:1}),s(c).isLoggedIn?(i(),$(s(ie),{key:0,slot:"end"},{default:a(()=>[l(s(P),{onClick:_},{default:a(()=>[l(s(q),{class:"user-avatar"},{default:a(()=>{var j,w;return[e("img",{src:((j=s(c).userProfile)==null?void 0:j.avatar)||"/images/default-avatar.jpg",alt:(w=s(c).userProfile)==null?void 0:w.nickname,onError:R},null,40,Ce)]}),_:1})]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1}),l(s(fe),{fullscreen:!0},{default:a(()=>{var j,w;return[e("div",je,[s(c).isLoggedIn?(i(),u("div",Ie,[e("div",be,[e("div",Te,[l(s(q),{class:"user-avatar-large"},{default:a(()=>{var t,p;return[e("img",{src:((t=s(c).userProfile)==null?void 0:t.avatar)||"/images/default-avatar.jpg",alt:(p=s(c).userProfile)==null?void 0:p.nickname,onError:R},null,40,xe)]}),_:1}),e("div",Se,[e("h2",Le,r((j=s(c).userProfile)==null?void 0:j.nickname),1),e("div",Ae,[(w=s(c).userProfile)!=null&&w.vipType?(i(),$(s(G),{key:0,color:"warning",outline:""},{default:a(()=>[l(s(v),{icon:s(de)},null,8,["icon"]),l(s(L),null,{default:a(()=>[...o[5]||(o[5]=[k("VIP",-1)])]),_:1})]),_:1})):S("",!0),l(s(G),{color:"primary",outline:""},{default:a(()=>[l(s(L),null,{default:a(()=>{var t;return[k("Lv."+r(((t=s(c).userProfile)==null?void 0:t.level)||1),1)]}),_:1})]),_:1})])])])]),e("div",De,[e("div",{class:"access-item",onClick:N},[e("div",Ee,[l(s(v),{icon:s(ue)},null,8,["icon"])]),e("div",Ve,[o[6]||(o[6]=e("h3",null,"我喜欢的音乐",-1)),e("p",$e,r(I.value)+"首歌曲",1)]),l(s(v),{icon:s(B),class:"access-arrow"},null,8,["icon"])]),e("div",{class:"access-item",onClick:T},[e("div",Be,[l(s(v),{icon:s(me)},null,8,["icon"])]),e("div",Oe,[o[7]||(o[7]=e("h3",null,"最近播放",-1)),e("p",Fe,r(b.value)+"首歌曲",1)]),l(s(v),{icon:s(B),class:"access-arrow"},null,8,["icon"])]),e("div",{class:"access-item",onClick:W},[e("div",Me,[l(s(v),{icon:s(ve)},null,8,["icon"])]),e("div",Ne,[o[8]||(o[8]=e("h3",null,"我的云盘",-1)),e("p",ze,r(C.value)+"首歌曲",1)]),l(s(v),{icon:s(B),class:"access-arrow"},null,8,["icon"])])]),e("section",Ue,[e("div",Re,[o[10]||(o[10]=e("h2",{class:"section-title"},"创建的歌单",-1)),l(s(P),{fill:"clear",size:"small",onClick:X},{default:a(()=>[l(s(v),{icon:s(_e)},null,8,["icon"]),o[9]||(o[9]=k(" 新建 ",-1))]),_:1})]),e("div",qe,[(i(!0),u(A,null,D(E.value,t=>(i(),u("div",{key:t.id,class:"playlist-item",onClick:p=>z(t.id)},[e("div",He,[e("img",{src:t.cover,alt:t.name,onError:x},null,40,Je)]),e("div",Ke,[e("h3",We,r(t.name),1),e("p",Xe,r(t.trackCount)+"首歌曲",1)]),l(s(P),{fill:"clear",size:"small",onClick:J(p=>U(t),["stop"])},{default:a(()=>[l(s(v),{icon:s(K)},null,8,["icon"])]),_:1},8,["onClick"])],8,Ge))),128))])]),e("section",Ye,[o[11]||(o[11]=e("div",{class:"section-header"},[e("h2",{class:"section-title"},"收藏的歌单")],-1)),e("div",Ze,[(i(!0),u(A,null,D(V.value,t=>(i(),u("div",{key:t.id,class:"playlist-item",onClick:p=>z(t.id)},[e("div",es,[e("img",{src:t.cover,alt:t.name,onError:x},null,40,ss)]),e("div",ts,[e("h3",os,r(t.name),1),e("p",ls,"by "+r(t.creator),1)]),l(s(P),{fill:"clear",size:"small",onClick:J(p=>U(t),["stop"])},{default:a(()=>[l(s(v),{icon:s(K)},null,8,["icon"])]),_:1},8,["onClick"])],8,Qe))),128))])]),e("section",as,[o[14]||(o[14]=e("div",{class:"section-header"},[e("h2",{class:"section-title"},"我的收藏")],-1)),e("div",ns,[l(s(ge),{modelValue:f.value,"onUpdate:modelValue":o[0]||(o[0]=t=>f.value=t),onIonChange:Q},{default:a(()=>[l(s(H),{value:"albums"},{default:a(()=>[l(s(L),null,{default:a(()=>[...o[12]||(o[12]=[k("专辑",-1)])]),_:1})]),_:1}),l(s(H),{value:"artists"},{default:a(()=>[l(s(L),null,{default:a(()=>[...o[13]||(o[13]=[k("歌手",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),f.value==="albums"?(i(),u("div",is,[(i(!0),u(A,null,D(O.value,t=>(i(),u("div",{key:t.id,class:"collection-item",onClick:p=>Y(t.id)},[e("div",rs,[e("img",{src:t.cover,alt:t.name,onError:x},null,40,ds)]),e("h3",us,r(t.name),1),e("p",ms,r(t.artist),1)],8,cs))),128))])):S("",!0),f.value==="artists"?(i(),u("div",vs,[(i(!0),u(A,null,D(F.value,t=>(i(),u("div",{key:t.id,class:"collection-item",onClick:p=>Z(t.id)},[e("div",gs,[e("img",{src:t.cover,alt:t.name,onError:x},null,40,fs)]),e("h3",ps,r(t.name),1),e("p",hs,r(ee(t.followers))+"关注",1)],8,_s))),128))])):S("",!0)])])):(i(),u("div",we,[e("div",Pe,[l(s(v),{icon:s(re),class:"login-icon"},null,8,["icon"]),o[3]||(o[3]=e("h2",null,"登录发现更多精彩",-1)),o[4]||(o[4]=e("p",{class:"login-desc"},"登录后可同步歌单、收藏音乐",-1)),l(s(P),{expand:"block",onClick:M},{default:a(()=>[...o[2]||(o[2]=[k(" 立即登录 ",-1)])]),_:1})])]))])]}),_:1})]),_:1}))}}),js=he(ks,[["__scopeId","data-v-36faf922"]]);export{js as default};
//# sourceMappingURL=index-B_2BY8H2.js.map
